{% load i18n static %}
<div id="sidebar-chat-app" class="nav-item dropdown notifications">
  <a href="" class="notification__icon nav-link" v-b-toggle.sidebar-chat role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fas fa-comments fa-fw">
      <span id="chat-notification-dot" class="notification__dot" :class="{'notification__dot_active': unreadCount > 0}"></span>
    </i>
  </a>
  <b-sidebar id="sidebar-chat" @shown="showHandler($event)" @change="changeHandler($event)" class="chat-sidebar justify-content-center" backdrop lazy v-cloak :no-header-close="!isMobile" :no-header="!isMobile" :width="`${isMobile ? '100vw' : '50vw'}`">
    <template v-slot:default>
      <div class="chatWrapper">
        <div class="text-center justify-content-center">
          <div v-if="isLoading" class="iframe-embed-loading rhombus-spinner mt-5 pt-5">
            <div class="rhombus child-1"></div>
            <div class="rhombus child-2"></div>
            <div class="rhombus child-3"></div>
            <div class="rhombus child-4"></div>
            <div class="rhombus child-5"></div>
            <div class="rhombus child-6"></div>
            <div class="rhombus child-7"></div>
            <div class="rhombus child-8"></div>
            <div class="rhombus big"></div>
          </div>
          <div v-if="!isLoggedIn && !isLoading" class="iframe-embed-loading">
            <b-row style="max-height:50%;">
              <b-col class="align-self-center pb-5" cols="12">
                <b-img src='{% static "v2/images/about/robot.png" %}' height="200"></b-img>
              </b-col>
              <b-col class="align-self-center" cols="12">
                <a :href="chatLoginURL" class="btn btn-outline-gc-green mx-auto chat-login-button">{% trans "You're not logged into Gitcoin Chat, click Here" %}</a>
              </b-col>
            </b-row>
          </div>
          <iframe v-if="isLoggedIn" id="gitcoin-chat-iframe" :key="renderKey"  class="chat-embed" :onload="chatAppOnload(this)" frameborder="0" :src="loadURL" allowfullscreen></iframe>
        </div>
      </div>
    </template>
  </b-sidebar>
</div>

